$define(["wgt_util", "wgt_readyload", "xcategory", "jquery.mediaQuery"], function(l, a, t, e) {
    var o = function(a, t) {
        var e, i = t.defaultImage;
        t.definedDefaultImage;
        e = i, l(".js_thumb", a).onErrorImg(e);
        var n = 2,
            c = t.isOpenCutMode,
            o = t.imageWidth,
            r = t.imageHeight;
        1 != c && "true" != c || (n = 1), l(".p_images", a).css("width", o + "px"), l(".p_images", a).css("height", r + "px"), l(".p_images", a).putPhotoDiv(n)
    };
    return {
        init: function(a) {
            var t = (a = this._params).id,
                e = $compCl.getScope(t),
                i = a.categoryParams;
            l.mediaQuery({
                callback1024: function() {
                    e.initCategory(i), o(e, i)
                },
                callback7681024: function() {
                    i.params.isSideOut = !1, e.initCategory(i), o(e, i)
                },
                callback768: function() {
                    i.params.isSideOut = !1, e.initCategory(i), o(e, i)
                }
            });
            var n = a.params.switchView,
                c = a.params.ND_TempShow;
            isFrontEnv() || "true" == c && ("open" == n ? l.mediaQuery({
                callback1024: function() {
                    l(".p_category", e).animate({
                        left: "0"
                    }, "normal")
                },
                callback7681024: function() {},
                callback768: function() {
                    l(".p_category", e).animate({
                        left: "0"
                    }, "normal")
                }
            }) : l.mediaQuery({
                callback1024: function() {
                    l(".p_category", e).animate({
                        left: "100%"
                    }, "normal")
                },
                callback7681024: function() {},
                callback768: function() {
                    l(".p_category", e).animate({
                        left: "100%"
                    }, "normal")
                }
            })), l(".p_btn-show", e).on("click", function() {
                l(".p_category", e).toggleClass("animate")
            }), l(".p_btn-hide", e).on("click", function() {
                l(".p_category", e).toggleClass("animate")
            }), l(".p_childBox").find(".p_linkBox").addClass("borderB_default")
        }
    }
});