$define(["wgt_util", "jquery.qrcode"], function(o) {
    return {
        init: function(t) {
            t = this._params;
            var a = $compCl.getScope(t.id),
                e = o(".js-introContent", a).html();
            null != o.trim(e) && o.trim(e) != undefined && "" != o.trim(e) && o.showRichText(a, t.id, "p_details", e);
            var n = commonShortUrl + t.params.c_qrcode,
                i = t.params.qrcodeWidth,
                r = t.params.qrcodeHeight;
            a.find(".js_qrcode").qrcode({
                    width: i,
                    height: r,
                    render: "canvas",
                    text: n
                }),
                function d(e) {
                    var t = {
                        id: parseInt(e.find(".p_contentBox").attr("data-infoid")),
                        appTag: 1
                    };
                    o.ajax({
                        type: "GET",
                        url: "/commentViewCount/ajax/updateAndGetViewCount",
                        data: t,
                        async: !1,
                        success: function(t) {
                            var a = JSON.parse(t);
                            a && 200 == a.status && e.find(".p_viewCount").html(a.data)
                        }
                    })
                }(a)
        }
    }
});